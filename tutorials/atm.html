<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Python Mini ATM Project: Master Encapsulation & OOP | Glenn Pansensoy</title>
    <meta name="description" content="Master Python OOP and Encapsulation with this Mini ATM project tutorial. Learn secure coding practices, class architecture, and state management from Glenn Junsay Pansensoy.">
    <meta name="author" content="Glenn Pansensoy">

    <meta property="og:title" content="Python Mini ATM Project | Glenn Pansensoy">
    <meta property="og:description" content="Professional Web Development guide to building a secure Python ATM system.">
    <link rel="canonical" href="https://pansensoyglenn-dev.github.io/GreenBytes/python-atm-project" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@300;400;600&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --obsidian-dark: #0f172a;
            --obsidian-card: #1e293b;
            --accent-blue: #38bdf8;
            --text-main: #ffffff;
            --text-dim: #cbd5e1;
            --footer-bg: #020617;
            --terminal-bg: #000000;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--obsidian-dark); color: var(--text-main); line-height: 1.6; }
        
        /* squared design */
        .hero-section { background: #0f172a; padding: 80px 0; border-bottom: 1px solid #334155; }
        .section-card { 
            background: var(--obsidian-card); 
            border-radius: 4px; 
            padding: 40px; 
            margin-bottom: 30px; 
            border: 1px solid #334155;
        }

        h2 { color: var(--accent-blue); font-family: 'Cinzel', serif; border-bottom: 2px solid var(--accent-blue); display: inline-block; padding-bottom: 5px; margin-bottom: 25px;}
        h4 { color: var(--accent-blue); margin-top: 25px; font-weight: 600; }
        
        .quote-box { font-style: italic; background: rgba(56, 189, 248, 0.05); border-left: 4px solid var(--accent-blue); padding: 20px; margin: 20px 0; }
        .step-badge { background: var(--accent-blue); color: #000; padding: 2px 8px; border-radius: 4px; font-weight: bold; margin-right: 10px; font-size: 0.85em; text-transform: uppercase;}
        
        .navbar { background-color: #020617 !important; border-bottom: 1px solid #1e293b; padding: 1rem 0; }
        .navbar-brand { font-family: 'Cinzel', serif; color: var(--accent-blue) !important; font-weight: bold; }
        
        /* Terminal Simulation Styling */
        .terminal-window { background: var(--terminal-bg); border-radius: 6px; border: 1px solid #475569; overflow: hidden; margin-top: 20px; box-shadow: 0 15px 30px rgba(0,0,0,0.5); }
        .terminal-header { background: #334155; padding: 10px 15px; display: flex; align-items: center; justify-content: space-between; }
        .terminal-dots { display: flex; gap: 6px; }
        .dot { width: 12px; height: 12px; border-radius: 50%; }
        .dot-red { background: #ff5f56; } .dot-yellow { background: #ffbd2e; } .dot-green { background: #27c93f; }
        .terminal-body { padding: 20px; font-family: 'Fira Code', monospace; font-size: 0.9rem; color: #4ade80; height: 280px; overflow-y: auto; white-space: pre-wrap; }
        .run-btn { background: var(--accent-blue); color: #000; border: none; padding: 12px 30px; font-weight: bold; border-radius: 4px; transition: 0.3s; margin-bottom: 10px; }
        .run-btn:hover { background: #7dd3fc; transform: translateY(-2px); }

        /* Footer Styling */
        footer { background: var(--footer-bg); padding: 80px 0 20px; border-top: 1px solid #1e293b; margin-top: 80px; }
        .footer-heading { color: var(--accent-blue); font-family: 'Cinzel', serif; font-size: 1.1rem; margin-bottom: 20px; letter-spacing: 1px; }
        .footer-link { color: var(--text-dim); text-decoration: none; transition: 0.3s; font-size: 0.9rem; display: block; margin-bottom: 10px; }
        .footer-link:hover { color: var(--accent-blue); transform: translateX(5px); }
        .social-icons a { color: var(--text-dim); margin-right: 15px; font-size: 1.2rem; transition: 0.3s; }
        .social-icons a:hover { color: var(--accent-blue); }

        .mistake-list { list-style-type: none; padding-left: 0; }
        .mistake-list li { margin-bottom: 20px; padding-left: 30px; position: relative; }
        .mistake-list li::before { content: "\f00d"; font-family: "Font Awesome 6 Free"; font-weight: 900; color: #f87171; position: absolute; left: 0; }
        .fix-text { color: #4ade80; display: block; margin-top: 5px; font-weight: 600; }

        /* ─── Return to Encapsulation Hub Button ─── */
        .return-hub-btn {
            position: fixed;
            bottom: 25px;
            right: 30px;
            z-index: 1000;
            padding: 12px 24px;
            font-size: 1.05rem;
            border-radius: 50px;
            background: linear-gradient(135deg, var(--accent-blue), #0284c7);
            color: white;
            text-decoration: none;
            box-shadow: 0 6px 20px rgba(56,189,248,0.45);
            transition: all 0.28s ease;
            border: none;
            font-weight: 500;
        }
        .return-hub-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px rgba(56,189,248,0.65);
            color: white;
        }
        .return-hub-btn i {
            margin-right: 8px;
        }

        @media (max-width: 576px) {
            .return-hub-btn {
                bottom: 80px;
                right: 20px;
                padding: 10px 20px;
                font-size: 0.95rem;
            }
        }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark sticky-top">
    <div class="container">
        <a class="navbar-brand" href="#">PYTHON TUTORIAL</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="mainNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="#intro">Logic</a></li>
                <li class="nav-item"><a class="nav-link" href="#code">Code</a></li>
                <li class="nav-item"><a class="nav-link" href="#analysis">Analysis</a></li>
                <li class="nav-item"><a class="nav-link" href="#pitfalls">Mistakes</a></li>
            </ul>
        </div>
    </div>
</nav>

<header class="hero-section text-center">
    <div class="container">
        <h1 class="display-4 fw-bold cinzel" style="color: var(--accent-blue);">Python Mini ATM Tutorial</h1>
        <p class="lead">Web Development, Encapsulation, and Object-Oriented Design.</p>
    </div>
</header>

<!-- Return button – early in content (after hero) -->
<div class="container text-center my-4">
    <a href="encapsulation.html" class="btn btn-outline-info btn-lg px-5 py-3">
        <i class="fas fa-arrow-left me-2"></i> Return to Encapsulation Hub
    </a>
</div>

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">

            <section class="section-card">
                <h2>The Architect’s Vision</h2>
                <p>Python ensures code can be read like poetry. In this project, we transition from simple scripts to organized, secure Objects.</p>
                <div class="quote-box">
                    "Encapsulation is the protective wrapper that prevents global variables from corrupting your logic."
                </div>
            </section>

            <section class="section-card" id="intro">
                <h2>Logical Introduction: Why OOP?</h2>
                <p>Before writing a single line of code, we must understand the <strong>Problem-Solution</strong> landscape. A banking system requires three pillars: <strong>Security, Data Integrity, and Modular Logic.</strong></p>
                
                <p>By using <strong>Object-Oriented Programming (OOP)</strong>, we treat the ATM as a distinct entity. This bundles the user's balance and authentication status directly with the actions they can perform (Deposit, Withdraw), preventing accidental modification by external functions.</p>
            </section>

            <section class="section-card" id="code">
                <h2>Full ATM Implementation (Python)</h2>
                <p>This script uses private attributes (<code>_variable</code>) to maintain data integrity and prevent unauthorized access.</p>
                
<pre><code class="language-python">import sys

class ATM:
    def __init__(self, card_number: str, initial_balance: float = 0.0):
        self._card_number = self._validate_card_number(card_number)
        self._balance = float(initial_balance)
        self._is_authenticated = False
        self._attempts = 0
        self._max_attempts = 3
        self._correct_pin = "2468"

    def _validate_card_number(self, card_number: str) -> str:
        cleaned = ''.join(filter(str.isdigit, str(card_number)))
        if len(cleaned) != 16:
            raise ValueError("Card number must contain 16 digits.")
        return cleaned

    def authenticate(self) -> bool:
        if self._is_authenticated: return True
        while self._attempts < self._max_attempts:
            pin = input(f"Enter PIN ({self._max_attempts - self._attempts} left): ").strip()
            if pin == self._correct_pin:
                self._is_authenticated = True
                print("✓ Access Granted.")
                return True
            self._attempts += 1
            print("✗ Invalid PIN.")
        print("!!! CARD LOCKED !!!")
        return False

    def _get_amount(self, prompt: str) -> float:
        while True:
            try:
                val = input(f"{prompt} (or 'c' to cancel): ").strip().lower()
                if val == 'c': return None
                amount = float(val.replace(',', ''))
                if amount > 0: return amount
                print("Amount must be positive.")
            except ValueError:
                print("Invalid numeric input.")

    def check_balance(self):
        if self._is_authenticated:
            print(f"\n--- Current Balance: ₱{self._balance:,.2f} ---\n")

    def deposit(self):
        if not self._is_authenticated: return
        amount = self._get_amount("Enter deposit amount")
        if amount:
            self._balance += amount
            print(f"✓ Deposited ₱{amount:,.2f}")

    def withdraw(self):
        if not self._is_authenticated: return
        amount = self._get_amount("Enter withdrawal amount")
        if amount:
            if amount <= self._balance:
                self._balance -= amount
                print(f"✓ Withdrew ₱{amount:,.2f}")
            else:
                print("✗ Insufficient funds.")

def main():
    my_atm = ATM("1234567890123456", 5000.0)
    if not my_atm.authenticate():
        sys.exit()
    while True:
        print("\n1. Balance | 2. Deposit | 3. Withdraw | 4. Exit")
        choice = input("Select Option: ").strip()
        if choice == "1": my_atm.check_balance()
        elif choice == "2": my_atm.deposit()
        elif choice == "3": my_atm.withdraw()
        elif choice == "4": break
    print("Thank you for using our service.")

if __name__ == "__main__":
    main()</code></pre>
            </section>

            <section class="section-card" id="interactive">
                <h2>Interactive Output Simulation</h2>
                <p>Visualize the code execution. Click <strong>Run Program</strong> to see how the encapsulation logic handles a typical banking session.</p>
                
                <button class="run-btn" id="run-button" onclick="runAtmSimulation()">
                    <i class="fas fa-play me-2"></i> Run Program
                </button>

                <div class="terminal-window">
                    <div class="terminal-header">
                        <div class="terminal-dots">
                            <div class="dot dot-red"></div>
                            <div class="dot dot-yellow"></div>
                            <div class="dot dot-green"></div>
                        </div>
                        <span class="small text-secondary fw-bold">atm_system.py — 80x24</span>
                    </div>
                    <div class="terminal-body" id="terminal-output">
> Waiting for user input...
                    </div>
                </div>
            </section>

            <section class="section-card" id="analysis">
                <h2>Logical Analysis & Step-by-Step Explanation</h2>
                
                <h4>1. Class Initialization & Encapsulation</h4>
                <p><span class="step-badge">Significance</span> It establishes a private state. The <code>_balance</code> is shielded from external tampering by using leading underscores, signaling internal use only.</p>
                
                <p><span class="step-badge">Step-by-Step</span> When <code>ATM()</code> is called, <code>__init__</code> runs. It cleans the input, validates the 16-digit card requirement, and sets the initial session states.</p>

                <h4>2. State Mutation</h4>
                <p><span class="step-badge">Significance</span> Methods are the only authorized way to change the balance, enforcing business rules like "Insufficient Funds" automatically.</p>
                
                <p><span class="step-badge">Step-by-Step</span> The <code>withdraw()</code> method first verifies the <code>_is_authenticated</code> flag, then calculates if the <code>amount <= _balance</code> before subtracting, ensuring the account never goes negative.</p>
            </section>

            <section class="section-card" id="pitfalls">
                <h2>5 Common Pitfalls & Professional Fixes</h2>
                <ul class="mistake-list">
                    <li>
                        <strong>Direct State Manipulation:</strong> Modifying <code>_balance</code> outside the class.
                        <span class="fix-text">Fix: Use methods to ensure validation logic runs every time.</span>
                    </li>
                    <li>
                        <strong>Missing Guard Clauses:</strong> Forgetting to return <code>False</code> on failure.
                        <span class="fix-text">Fix: Implement explicit exits if security checks fail.</span>
                    </li>
                    <li>
                        <strong>Floating Point Errors:</strong> Using floats for currency math.
                        <span class="fix-text">Fix: Use Python's <code>decimal</code> module for high-precision apps.</span>
                    </li>
                    <li>
                        <strong>Lack of Sanitization:</strong> Crashing on non-numeric input.
                        <span class="fix-text">Fix: Use <code>try...except</code> blocks for all user inputs.</span>
                    </li>
                    <li>
                        <strong>"God Object" Pattern:</strong> Putting UI and Database logic inside one class.
                        <span class="fix-text">Fix: Follow the Single Responsibility Principle.</span>
                    </li>
                </ul>
                
            </section>

            <!-- Return button – end of main content -->
            <div class="text-center my-5 pt-4">
                <a href="encapsulation.html" class="btn btn-outline-info btn-lg px-5 py-3">
                    <i class="fas fa-undo-alt me-2"></i> Return to Encapsulation Hub
                </a>
            </div>

        </div>
    </div>
</div>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-4 mb-4">
                <h5 class="footer-heading">About the Web Developer</h5>
                <p class="text-dim small">Glenn Pansensoy is a Web Developer specializing in Python systems and logical design. This tutorial is part of a series dedicated to bridging the gap between raw code and professional software engineering principles.</p>
                <div class="social-icons mt-3">
                    <a href="#"><i class="fab fa-github"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
            <div class="col-6 col-lg-2 mb-4">
                <h5 class="footer-heading">Resources</h5>
                <a href="documents" class="footer-link">Documentation</a>
                <a href="files" class="footer-link">Source Files</a>
                <a href="basics" class="footer-link">OOP Basics</a>
                <a href="tips.html" class="footer-link">Python Tips</a>
            </div>
            <div class="col-6 col-lg-2 mb-4">
                <h5 class="footer-heading">Legal</h5>
                <a href="privacy.html" class="footer-link">Privacy Policy</a>
                <a href="terms.html" class="footer-link">Terms of Service</a>
                <a href="encap-cookie.html" class="footer-link">Cookie Policy</a>
                <a href="encap-disclaimer" class="footer-link">Disclaimers</a>
            </div>
            <div class="col-lg-4 mb-4">
                <h5 class="footer-heading">Contact & Support</h5>
                <p class="text-dim small">Have questions about this architecture? Reach out for professional consultation or code review.</p>
                <a href="mailto:contact@pansensoyglenn@gmail.com" class="footer-link"><i class="fas fa-envelope me-2"></i> contact@pansensoyglenn@gmail.com</a>
                <p class="text-dim small mt-2"><i class="fas fa-map-marker-alt me-2"></i> Diplahan, Zamboanga Sibugay, Philippines</p>
            </div>
        </div>
        <hr class="my-4 border-secondary">
        <div class="text-center">
            <p class="text-dim small mb-0">© 2026 Glenn Pansensoy. All Rights Reserved. Built with Logic and Precision.</p>
        </div>
    </div>
</footer>

<!-- Floating Return to Encapsulation Hub Button (always visible) -->
<a href="encapsulation.html" class="return-hub-btn">
    <i class="fas fa-arrow-left"></i> Return to Encapsulation Hub
</a>

<script>
    const output = document.getElementById('terminal-output');
    const btn = document.getElementById('run-button');

    function writeLine(text, delay = 0) {
        return new Promise(resolve => {
            setTimeout(() => {
                output.innerHTML += text + "<br>";
                output.scrollTop = output.scrollHeight;
                resolve();
            }, delay);
        });
    }

    async function runAtmSimulation() {
        btn.disabled = true;
        output.innerHTML = "> python3 atm_system.py<br>";
        
        await writeLine("Enter PIN (3 left): <span style='color:#fff'>****</span>", 800);
        await writeLine("<span style='color:#4ade80'>✓ Access Granted.</span>", 600);
        
        await writeLine("\n1. Balance | 2. Deposit | 3. Withdraw | 4. Exit", 400);
        await writeLine("Select Option: <span style='color:#fff'>1</span>", 800);
        await writeLine("\n<span style='color:#38bdf8'>--- Current Balance: ₱5,000.00 ---</span>", 500);
        
        await writeLine("\n1. Balance | 2. Deposit | 3. Withdraw | 4. Exit", 400);
        await writeLine("Select Option: <span style='color:#fff'>3</span>", 800);
        await writeLine("Enter withdrawal amount: <span style='color:#fff'>1200</span>", 600);
        await writeLine("<span style='color:#4ade80'>✓ Withdrew ₱1,200.00</span>", 400);
        
        await writeLine("\nSelect Option: <span style='color:#fff'>1</span>", 800);
        await writeLine("<span style='color:#38bdf8'>--- Current Balance: ₱3,800.00 ---</span>", 500);
        
        await writeLine("\nSelect Option: <span style='color:#fff'>4</span>", 800);
        await writeLine("Thank you for using our service.", 400);
        await writeLine("\n> _", 200);
        
        btn.disabled = false;
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</body>
</html>
